<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id="info"></div>


<script>
    var xmlhttp = new XMLHttpRequest();
    var url = "http://api.openweathermap.org/data/2.5/weather?q=Helsinki%2Cfi&units=metric&appid=114332134ea7ed53cb7a0e88a863eb5d";
    var imageUrl = "http://openweathermap.org/img/w/";

    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var myArr = JSON.parse(this.responseText);
            myFunction(myArr);
        }
    };
    xmlhttp.open("GET", url, true);
    xmlhttp.send();

    function myFunction(arr) {
        var out = "";
        var cityName = arr.name;
        var country = arr.sys.country;

        var temp = arr.main.temp;
        temp = Math.round(temp); // pyöristetään lämpötila
        temp += " &#8451"; // lisätään lämpötilaan celsius merkki

        var clouds = arr.weather[0].description;

        var humidity = arr.main.humidity;
        humidity += " %";

        var pressure = arr.main.pressure;
        pressure += " hpa";

        var coords = {lon: arr.coord.lon, lat: arr.coord.lat};
        var wind = {speed: arr.wind.speed, deg: arr.wind.deg};

        imageUrl += arr.weather[0].icon + ".png"; // liitetään img urliin iconin tunnus

        img = document.createElement('img'); // luodaan image
        img.src = imageUrl; // lisätään imagelle lähde
        document.body.appendChild(img); // lisätään image bodyyn

        out = cityName + ", " + country + ", " + temp + ", " + clouds + ", " + humidity;

        document.getElementById("info").innerHTML = out;
    }
</script>

</body>
</html>